/**
 *  <?= controllerName ?> Functional Test
 *  Created by create-test script @<?= new Date().toISOString() ?>
 **/
<?
var modelVariable = modelName.toLowerCase();
var basePath = modelName.toLowerCase();
var basePathPlural = controllerName.toLowerCase();
var nsPath = namespace && namespace !== "" ? "/" + namespace + "/" : "/";
?>
var assert = require('assert');
var should = require('should');
var trinte = require('../app');
var id, app, <?= modelVariable ?>;

describe('Controller <?= controllerName ?>:', function () {

    before(function () {
        app = trinte.boot();
        app.listen(3000);
    });

    describe('#index', function () {
        it('respond with html', function (done) {
            request(app)
                .get('<?= nsPath ?><?= basePathPlural ?>')
                .set('Accept', 'text/html')
                .expect('Content-Type', /html/)
                .expect(200, done);
        });
        it('respond with json', function (done) {
            request(app)
                .get('<?= nsPath ?><?= basePathPlural ?>')
                .set('Accept', 'application/json')
                .expect('Content-Type', /json/)
                .expect(200, done);
        });
        it('respond with xml', function (done) {
            request(app)
                .get('<?= nsPath ?><?= basePathPlural ?>.xml')
                .expect('Content-Type', /xml/)
                .expect(200, done);
        });
    });

    describe('#new', function () {
        request(app)
            .get('<?= nsPath ?><?= basePathPlural ?>')
            .set('Accept', 'application/json')
            .expect(200)
            .end(function (err, res) {
                if (err) return done(err);
                <?= modelVariable ?> = res.body;
                done();
            });
    });

    describe('#create', function () {
        request(app)
            .post('<?= nsPath ?><?= basePathPlural ?>')
            .field('name', 'my awesome avatar')
            .set('Accept', 'application/json')
            .expect(201)
            .end(function (err, res) {
            if (err) return done(err);
            done();
        });
    });

    describe('#show', function () {
        request(app)
            .get('<?= nsPath ?><?= basePathPlural ?>')
            .set('Accept', 'application/json')
            .expect(200)
            .end(function (err, res) {
                if (err) return done(err);

                done();
            });
    });

    describe('#edit', function () {

    });

    describe('#update', function () {

    });

    describe('#destroy', function () {

    });

    describe('#destroyall', function () {

    });

});